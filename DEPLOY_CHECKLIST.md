# ðŸš€ Deployment & Maintenance Checklist

This guide serves as a technical reference to ensure the integrity of the infrastructure and the success of new deployments in the AWS ecosystem of Rotary Club da Guarda.

## 1. Environment Prerequisites
- [ ] **AWS CLI**: Ensure the `rotary` profile is configured (`aws configure --profile rotary`).
- [ ] **Terraform**: Minimum version **1.10.x** installed (mandatory for *Native S3 Locking*).
- [ ] **Identity**: Validate credentials before starting: `aws sts get-caller-identity --profile rotary`.

## 2. Infrastructure (Terraform)
- [ ] **Remote State**: Verify in `backend.tf` that the bucket has `encrypt = true` and `use_lockfile = true`.
- [ ] **DNS Integrity**:
    - [ ] Check if long TXT/DKIM records (Zoho) are fragmented between quotes in HCL code.
    - [ ] Validate MX records to ensure email service continuity.
- [ ] **SSL/ACM**: Ensure that the certificate for use with CloudFront was requested in the `us-east-1` region.

## 3. Backend & Integrations
- [ ] **Lambda**:
    - [ ] Verify that the payload `.zip` package is being generated via `archive_file`.
    - [ ] Validate environment variables in `lambda.tf`: `TABLE_NAME` and `SNS_TOPIC_ARN`.
- [ ] **Permissions (IAM)**: Ensure restricted policies for `dynamodb:PutItem` and `sns:Publish`.
- [ ] **SNS (Alert)**: After the initial deployment, check the inbox of the configured email and confirm the subscription (*Opt-in*).

## 4. Frontend & Distribution
- [ ] **CORS**: Validate that the final domain (`rotaryclubguarda.org`) is in the list of allowed origins in API Gateway.
- [ ] **API Endpoint**: Ensure that the file `frontend/js/script.js` points to the real URL generated by the Terraform output.
- [ ] **CloudFront**: Run cache invalidation (`/*`) via CLI or console after updates to S3.

## 5. Quality and Security
- [ ] Run `terraform fmt` and `terraform validate` before any `plan`.
- [ ] **Data Security**: Validate that the `terraform.tfvars` file is **not** being tracked by Git (`git check-ignore`).
- [ ] **State Lock**: Confirm that the `.tflock` file is created in S3 during the `apply` execution.
